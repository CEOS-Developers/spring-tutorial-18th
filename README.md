# spring-tutorial-18th
CEOS 18th Backend Study - Spring Tutorial


## μ¤ν”„λ§μ 3λ€ μ”μ†(Spring Triangle)
### IoC/DI
***
* IoC - Inversion of Control : μ μ–΄μ μ—­μ „
* DI - Dependency Injection : μμ΅΄μ„± μ£Όμ…
- **λ©”μ†λ“λ‚ κ°μ²΄μ νΈμ¶μ‘μ—…μ„ κ°λ°μκ°€ κ²°μ •ν•λ” κ²ƒμ΄ μ•„λ‹λΌ, μ™Έλ¶€μ—μ„ κ²°μ •λλ” κ²ƒμ„ μλ―Έ**
- κ°μ²΄μ μμ΅΄μ„±μ„ μ—­μ „μ‹μΌ κ°μ²΄ κ°„μ κ²°ν•©λ„λ¥Ό μ¤„μ΄κ³  μ μ—°ν• μ½”λ“ μ‘μ„± κ°€λ¥

  β†’ κ°€λ…μ„± λ° μ½”λ“ μ¤‘λ³µ, μ μ§€ λ³΄μ μ©μ΄
- κ°μ²΄μ μƒμ„± λ° μ‹¤ν–‰ κ³Όμ •μ„ [κ°μ²΄ μƒμ„± -> μμ΅΄μ„± κ°μ²΄ μƒμ„±/μ£Όμ… -> μμ΅΄μ„± κ°μ²΄ λ©”μ†λ“ νΈμ¶] μ μμ„λ΅ λ³Έλ‹¤λ©΄   
κΈ°μ΅΄μ—λ” ν΄λμ¤ λ‚΄λ¶€μ—μ„ μμ΅΄μ„± κ°μ²΄λ¥Ό μƒμ„±ν–μ§€λ§   
μ¤ν”„λ§μ—μ„λ” μμ΅΄μ„± κ°μ²΄λ¥Ό μƒμ„±ν•λ” κ²ƒμ΄ μ•„λ‹λΌ μ£Όμ…ν•λ‹¤   
μ¤μ¤λ΅ λ§λ“λ” κ²ƒμ΄ μ•„λ‹λΌ μ μ–΄κ¶μ„ μ¤ν”„λ§μ—κ² μ„μ„ν•μ—¬ μ¤ν”„λ§μ΄ λ§λ“¤μ–΄λ†“μ€ κ°μ²΄λ¥Ό μ£Όμ…ν•λ‹¤λ” λ»
- μ¤ν”„λ§μ΄ λ¨λ“  μμ΅΄μ„± κ°μ²΄λ¥Ό μ¤ν”„λ§μ΄ μ‹¤ν–‰λ  λ• λ‹¤ λ§λ“¤μ–΄μ£Όκ³  ν•„μ”ν• κ³³μ— μ£Όμ…ν•΄μ£ΌκΈ° λ•λ¬Έμ— Beanλ“¤μ€ μ‹±κΈ€ν„΄ ν¨ν„΄μ νΉμ§•μ„ κ°€μ§€κ³    
μ μ–΄μ νλ¦„μ„ μ‚¬μ©μκ°€ μ»¨νΈλ΅¤ ν•λ” κ²ƒμ΄ μ•„λ‹λΌ μ¤ν”„λ§μ—κ² λ§΅κ²¨ μ‘μ—…μ„ μ²λ¦¬ν•κ² λλ‹¤ 

<br/>

### AOP
***
* AOP - Aspect Oriented Programming : κ΄€μ  μ§€ν–¥ ν”„λ΅κ·Έλλ°
* μ–΄λ–¤ λ΅μ§μ„ ν•µμ‹¬μ μΈ κ΄€μ (λΉ„μ¦λ‹μ¤ λ΅μ§)κ³Ό λ¶€κ°€μ μΈ κ΄€μ (λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²°, λ΅κΉ…, νμΌ μ…μ¶λ ¥)μΌλ΅ λ‚λ„μ–΄μ„ λ³΄κ³    
κ·Έ κ΄€μ μ„ κΈ°μ¤€μΌλ΅ κ°κ° λ¨λ“ν™”
* AOPμ—μ„ λ΅μ§μ„ λ¨λ“ν™”ν•λ‹¤λ” κ²ƒμ€ μ½”λ“λ¥Ό λ¶€λ¶„μ μΌλ΅ λ‚λ„μ–΄ λ¨λ“ν™”ν•κ² λ‹¤λ” μλ―Έν•κ³    
  μ΄λ•, μ†μ¤ μ½”λ“ μƒμ—μ„ λ‹¤λ¥Έ λ¶€λ¶„μ— κ³„μ† λ°λ³µν•΄μ„ μ“°λ” μ½”λ“λ“¤μ„ λ°κ²¬ν•  μ μλ”λ°   
  μ΄κ²ƒμ„ ν©μ–΄μ§„ κ΄€μ‹¬μ‚¬ (Crosscutting Concerns)λΌκ³  ν•λ‹¤ β†’ κ³µν†µ κ΄€μ‹¬ μ‚¬ν•­
- μ΄ ν©μ–΄μ§„ κ΄€μ‹¬μ‚¬λ¥Ό Aspectλ΅ λ¨λ“ν™”ν•κ³  ν•µμ‹¬μ μΈ λΉ„μ¦λ‹μ¤ λ΅μ§μ—μ„ λ¶„λ¦¬ν•μ—¬ μ¬μ‚¬μ©ν•κ² λ‹¤λ” κ²ƒμ΄ AOPμ μ·¨μ§€
* AOPκ°€ ν•„μ”ν• μƒν™© : λ¨λ“  λ©”μ†λ“μ νΈμ¶ μ‹κ°„μ„ μΈ΅μ •ν•κ³  μ‹¶λ‹¤λ©΄?
    * μ² κ°κ°€ λ„λ” λ©”μ†λ“μ— λ‹¤ λ“¤μ–΄κ°€μ„ μ‹μ‘κ³Ό λμ— νΈμ¶ μ‹κ°„ λ‚¨κΈ°κΈ°   
κ° λ©”μ†λ“ μ‹μ‘κ³Ό λμ— μ‹κ°„ μΈ΅μ • λ΅μ§ μ§‘μ–΄λ„£κΈ°  
νΈμ¶ μ‹κ°„ μ΄λ‹¨μ„λ΅ κ³„μ‚°ν–λ”λ° msλ΅ λ°”κΎΈλΌκ³  ν•λ©΄ λ κ°κ° λ‹¤ μμ •ν•΄μ•Ό ν•λ‹¤ 
    * κ³µν†µ κ΄€μ‹¬ μ‚¬ν•­(cross-cutting concern) vs ν•µμ‹¬ κ΄€μ‹¬ μ‚¬ν•­(core concern) κµ¬λ¶„
  ```java
    public Long join(Member member) { //νμ›κ°€μ…
        long start = System.currentTimeMillis();
  
        try {
            validateDuplicateember(member); //μ¤‘λ³µνμ› κ²€μ¦
            memberRepository.save(member);
            return member.getId();
        } finally {
            long finish = System.currentTimeMillis();
            long timeMs = finish - start;
            System.out.println("join = " + timeMs + "ms");
        }
    }
  ```
    * μ„ μ½”λ“μ λ¬Έμ μ  
      * νμ›κ°€μ…, νμ› μ΅°νμ— μ‹κ°„μ„ μΈ΅μ •ν•λ” κΈ°λ¥μ€ **ν•µμ‹¬ κ΄€μ‹¬ μ‚¬ν•­**μ΄ μ•„λ‹λ‹¤
      - tryλ¬Έ μ•μ κΈ°λ¥μ€ ν•µμ‹¬ λΉ„μ¦λ‹μ¤ λ΅μ§μ΄μ§€λ§ μ‹κ°„μ„ μΈ΅μ •ν•λ” λ΅μ§μ€ ν•µμ‹¬μ΄ μ•„λ‹λ‹¤
      - μ‹κ°„μ„ μΈ΅μ •ν•λ” λ΅μ§μ€ **κ³µν†µ κ΄€μ‹¬ μ‚¬ν•­**μ΄λ‹¤
      - μ‹κ°„μ„ μΈ΅μ •ν•λ” λ΅μ§κ³Ό ν•µμ‹¬ λΉ„μ¦λ‹μ¤μ λ΅μ§μ΄ μ„μ—¬μ„ μ μ§€λ³΄μκ°€ μ–΄λ µλ‹¤
      - μ‹κ°„μ„ μΈ΅μ •ν•λ” λ΅μ§μ„ λ³„λ„μ κ³µν†µ λ΅μ§μΌλ΅ λ§λ“¤κΈ° λ§¤μ° μ–΄λ µλ‹¤
      - μ‹κ°„μ„ μΈ΅μ •ν•λ” λ΅μ§μ„ λ³€κ²½ν•  λ• λ¨λ“  λ΅μ§μ„ μ°Ύμ•„κ°€λ©΄μ„ λ³€κ²½ν•΄μ•Ό ν•λ‹¤
    
    ```java
    @Aspect
    @Component
    public class TimeTraceAop {
        @Around("execution(* hello.hellospring..*(..))")
        public Object execute(ProceedingJoinPoint joinPoint) throws Throwable {
            long start = System.currentTimeMillis();
            ystem.out.println("START : " + joinPoint.toString());
            try {
            return joinPoint.proceed();
            } finally {
            long finish = System.currentTimeMillis();
            long timeMs = finish - start;
            System.out.println("END : " + joinPoint.toString() + " " + timeMs + "ms");
            }
        }
    }
    ```
    * μ„ μ½”λ“ μ„¤λ…
      * **@Aspect** μ–΄λ…Έν…μ΄μ… μ‚¬μ©ν•΄μ•Ό AOPλ΅ μ‚¬μ© κ°€λ¥
      * **@Component** μ¤ν”„λ§λΉμΌλ΅ λ“±λ΅ (@Component μ“°κΈ°λ„ ν•λ”λ° μ¤ν”„λ§λΉμ— μ§μ ‘ λ“±λ΅ λ” μ„ νΈ)
      * **@Around**λ΅ μ΄ κ³µν†µ κ΄€μ‹¬ μ‚¬ν•­μ„ μ–΄λ””μ— μ μ©ν•  μ§€ μ„¤μ •, νƒ€κ²ν…  
  μ‹¤ν–‰ν•λ” ν¨ν‚¤μ§€λ…, λ°‘μ— ν•μ„ μ „μ²΄λ΅ μ„¤μ •, νƒ€κ²μ€ λ”°λ΅ λ‹¤ μ„¤μ •ν•  μ μμ
      * **joinPoint**  
  argument λ­”μ§€, μ–΄λ νƒ€κ²μ—μ„ νΈμ¶ν•λ”μ§€, μ§€κΈ λ‚΄κ°€ λ„κµ°μ§€ λ“± μ—¬λ¬ λ©”μ†λ“   
    νΈμ¶μ΄ λ  λ•λ§λ‹¤ μ¤‘κ°„μ—μ„ μΈν„°μ…‰νΈκ°€ κ±Έλ¦¬λ” κ²ƒ  
  ν•„μ”ν•λ©΄ μ¤‘κ°„μ— μ–΄λ–¤ μ΅°κ±΄μ΄λ©΄ λ„μ–΄κ°€μ§€λ§ λΌλ” μ„¤μ •λ„ κ°€λ¥   
  μ΄λ ‡κ² μ¤‘κ°„μ— μΈν„°μ…‰νΈν•΄μ„ μ‚¬μ©ν•  μ μλ” κΈ°μ μ΄ AOP

  * ν•΄κ²°
    * νμ›κ°€μ…, νμ› μ΅°ν λ“± ν•µμ‹¬ κ΄€μ‹¬μ‚¬ν•­κ³Ό μ‹κ°„μ„ μΈ΅μ •ν•λ” κ³µν†µ κ΄€μ‹¬ μ‚¬ν•­ λ¶„λ¦¬
    - μ‹κ°„μ„ μΈ΅μ •ν•λ” λ΅μ§μ„ λ³„λ„μ κ³µν†µ λ΅μ§μΌλ΅ λ§λ“¤μ—λ‹¤
    - ν•µμ‹¬ κ΄€μ‹¬ μ‚¬ν•­μ„ κΉ”λ”ν•κ² μ μ§€ν•  μ μλ‹¤
    - λ³€κ²½μ΄ ν•„μ”ν•λ©΄ μ΄ λ΅μ§λ§ λ³€κ²½ν•λ©΄ λλ‹¤
    - μ›ν•λ” μ μ© λ€μƒμ„ μ„ νƒν•  μ μλ‹¤

### PSA   
***
* PSA - Portable Service Abstraction : μ¶”μƒν™” μ„λΉ„μ¤
*  ex. @Transactional μ–΄λ…Έν…μ΄μ…μ„ μ„ μ–Έν•λ” κ²ƒ λ§μΌλ΅ λ³„λ„μ μ½”λ“ μ¶”κ°€ μ—†μ΄ νΈλμ­μ… μ„λΉ„μ¤λ¥Ό μ‚¬μ©ν•  μ μλ‹¤
*  λ‚΄λ¶€μ μΌλ΅ νΈλμ­μ… μ½”λ“κ°€ μ¶”μƒν™”λμ–΄ μ¨κ²¨μ Έ μκΈ° λ•λ¬Έμ΄κ³    
   μ΄λ ‡κ² μ¶”μƒν™” κ³„μΈµμ„ μ‚¬μ©ν•μ—¬ μ–΄λ–¤ κΈ°μ μ„ λ‚΄λ¶€μ— μ¨κΈ°κ³  κ°λ°μμ—κ² νΈμμ„±μ„ μ κ³µν•΄μ£Όλ” κ²ƒμ„ μ„λΉ„μ¤ μ¶”μƒν™”(Service Abstraction) λΌκ³  ν•λ‹¤
* JDBC, JPA λ‘ μ¤‘ μ–΄λ–¤ λ°©λ²•μ„ μ‚¬μ©ν•λ”λΌλ„ DBμ— μ ‘κ·Όν•  μ μκ³ , @Transactional μ–΄λ…Έν…μ΄μ…μ„ μ΄μ©ν•΄ νΈλμ­μ…μ„ μ μ§€ν•λ” κΈ°λ¥μ„ μ¶”κ°€ν•  μ μλ‹¤   
-> μ΄λ ‡κ² ν•λ‚μ μ¶”μƒν™”λ΅ μ—¬λ¬ μ„λΉ„μ¤λ¥Ό λ¬¶μ–΄λ‘” κ²ƒμ„ Springμ—μ„ Portable Service Abstraction μ΄λΌκ³  ν•λ‹¤ 
* Spring Web MVC   
@Controllerλ¥Ό ν†µν•΄ μ”μ²­μ„ λ§¤ν•‘ν•  μ μλ” μ»¨νΈλ΅¤λ¬ μ—­ν• μ„ μν–‰ν•λ” ν΄λμ¤κ°€ λλ‹¤
* Spring Transaction   
@Transactionμ„ μ΄μ©ν•΄ λ‹¨μν λ©”μ†λ“μ— μ–΄λ…Έν…μ΄μ…μ„ λ¶™μ—¬μ¤μΌλ΅μ¨ νΈλμ­μ… μ²λ¦¬κ°€ μ΄λ£¨μ–΄μ§„λ‹¤
* Spring Cache   
@Cacheable μ–΄λ…Έν…μ΄μ…μ„ λ¶™μ—¬μ¤μΌλ΅μ¨ κµ¬ν„μ²΄λ¥Ό ν¬κ² μ‹ κ²½μ“°μ§€ μ•μ•„λ„ ν•„μ”μ— λ”°λΌ λ°”κΏ” μ“Έ μ μλ‹¤ 



## μ¤ν”„λ§ μ–΄λ…Έν…μ΄μ… @

### μ–΄λ…Έν…μ΄μ…μ΄λ€ λ¬΄μ—‡μ΄λ©°, Javaμ—μ„ μ–΄λ–»κ² κµ¬ν„λ κΉμ”?

---

![anno1](./img/anno1.png)

- μλ°” μ†μ¤ μ½”λ“μ— μ¶”κ°€ν•  μ μλ” μΌμΆ…μ λ©”νƒ€λ°μ΄ν„°
- μμ²΄μ μΌλ΅ ν”„λ΅μ νΈμ—λ” μν–¥μ„ λ―ΈμΉμ§€ μ•μ
- ν΄λμ¤, μΈν„°νμ΄μ¤, λ©”μ†λ“, λ³€μ , νλΌλ―Έν„° λ“±μ— μ‚¬μ©λλ‹¤

#### π”μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•λ” μ΄μ 

1. **`λΉ λ¥΄κ³  ν¨μ¨μ μ΄λ‹¤`**

   Annotation Processorλ” μλ°” μ»΄νμΌλ¬ javacμ μΌλ¶€λ΅, λ¨λ“  μ²λ¦¬λ¥Ό μ»΄νμΌ νƒ€μ„μ— ν•κ² λλ‹¤
   λ°νƒ€μ„μ λ¶€λ‹΄μ„ μ¤„μ—¬ λΉ λ¥Έ μ²λ¦¬κ°€ κ°€λ¥ν•λ‹¤

2. **`λ¦¬ν”λ ‰μ…(Reflection)`** μ΄ λ°μƒν•μ§€ μ•μ
    - λ¦¬ν”λ ‰μ…μ΄λ€?
        - κµ¬μ²΄μ μΈ ν΄λμ¤ νƒ€μ…μ„ μ•μ§€ λ»ν•λ”λΌλ„ κ·Έ λ‚΄λ¶€μ— μλ” λ©”μ†λ“, νƒ€μ…, λ³€μλ¥Ό μ ‘κ·Όν•κ² ν•΄μ£Όλ” μλ°” API
        - μ»΄νμΌ μ‹κ°„μ΄ μ•„λ‹ μ‹¤ν–‰ μ‹κ°„μ— λ™μ μΌλ΅ ν΄λμ¤μ μ •λ³΄λ¥Ό μ¶”μ¶ν•  μ μλ” ν”„λ΅κ·Έλλ° κΈ°λ²•
          β†’ μ¦‰, λ™μ μΌλ΅ ν΄λμ¤λ¥Ό μ‚¬μ©ν•΄μ•Όν•  λ• μ‚¬μ©ν•κ³ 
          μ‘μ„± μ‹μ μ—λ” μ–΄λ–¤ ν΄λμ¤λ¥Ό μ‚¬μ©ν•΄μ•Ό ν•  μ§€ λ¨λ¥΄μ§€λ§ λ°νƒ€μ„ μ‹μ μ— κ°€μ Έμ™€ μ‹¤ν–‰ν•΄μ•Ό ν•λ” κ²½μ° ν•„μ”ν•λ‹¤
        > λ°νƒ€μ„ μ‹μ— ν΄λμ¤μ λ©”νƒ€ μ •λ³΄λ¥Ό μ–»λ” κΈ°λ¥μ„ λ§ν•λ‹¤. μλ¥Ό λ“¤μ–΄ ν΄λμ¤κ°€ κ°€μ§€κ³  μλ” ν•„λ“κ°€ λ¬΄μ—‡μΈμ§€, μ–΄λ–¤ μƒμ„±μλ¥Ό κ°€μ§€κ³  μλ”μ§€, μ–΄λ–¤ λ©”μ†λ“λ¥Ό κ°€μ§€κ³  μλ”μ§€, μ μ©λ μ–΄λ…Έν…μ΄μ…μ΄ λ¬΄μ—‡μΈμ§€λ¥Ό μ•μ•„λ‚΄λ” κ²ƒμ΄ λ¦¬ν”λ ‰μ…μ΄λ‹¤.
        > 
3. **`λ³΄μΌλ¬ ν”λ μ΄νΈ`** μ κ±°

   > λΉ„μ·ν• ν•νƒλ΅ λ°λ³µλλ” μ½”λ“

#### μ–΄λ…Έν…μ΄μ… μΆ…λ¥

1. **Built-in Annotation ν‘μ¤€/λ‚΄μ¥ μ–΄λ…Έν…μ΄μ…**
    - **`@Override`**

      λ©”μ†λ“ μ•μ— μ‚¬μ© ν„μ¬ λ©”μ†λ“κ°€ μνΌν΄λμ¤μ λ©”μ†λ“λ¥Ό μ¬μ •μ ν–μμ„ μ»΄νμΌλ¬μ—κ² λ…μ‹ν•κ³ , μ¬μ •μ μ‹ μ¤νƒμλ¥Ό λ§‰μ•„μ£Όλ” μ—­ν• λ„

    - **`@Deprecated`**

      μ°¨ν›„ λ²„μ „μ—μ„ μ§€μ› μ¤‘λ‹¨ μμ • λ“±μ μ΄μ λ΅ μ•μΌλ΅ μ‚¬μ©ν•μ§€ μ•μ„ κ²ƒμ„ κ¶μ¥ν•λ” ν•„λ“λ‚ λ©”μ„λ“μ— μ‚¬μ©

      > μ—†μ• μ§€ μ•λ” μ΄μ λ”?
      >
      >
      > μ΄μ „μ— ν•΄λ‹Ή λ©”μ†λ“λ΅ κ°λ°μ„ μ§„ν–‰ν• ν”„λ΅μ νΈλ“¤μ΄ μκΈ° λ•λ¬Έμ— μ μ§€λ” ν•λ, κ¶μ¥ν•μ§€ μ•λ” λ°©ν–¥μΌλ΅
    
    - **`@SupressWarning`**

      μ»΄νμΌλ¬μ κ²½κ³ λ©”μ„Έμ§€κ°€ λ‚νƒ€λ‚μ§€ μ•κ² ν•λ‹¤
      μ»΄νμΌλ¬κ°€ μ£Όλ” κ²½κ³  λ©”μ„Έμ§€λ¥Ό ν”„λ΅κ·Έλλ¨Έκ°€ μλ„μ μΌλ΅ λ¬΄μ‹ν•κ³ μ ν•  λ• μ‚¬μ©

    - **`@FunctionalInterace`**

      `@Override`μ™€ μ μ‚¬ν• κΈ°λ¥μΌλ΅, μ»΄νμΌλ¬μ—κ² ν•¨μν• μΈν„°νμ΄μ¤λΌλ” κ²ƒμ„ μ•λ ¤ μ¬λ°”λ¥΄κ² μ‘μ„±ν–λ”μ§€ μ²΄ν¬ν•κ³  μ…λ ¥ μ‹¤μ λ°©μ§€

    - **`@NonNull`**

      νλΌλ―Έν„°λ΅ Nullμ„ λ„£μ§€ λ»ν•κ² κ²½κ³ ν•λ” μλ―Έμ—μ„ μ‚¬μ©λλ” μ–΄λ…Έν…μ΄μ…
      μΈμλ΅ nullμ„ λ„£μΌλ©΄ μ»΄νμΌλ¬κ°€ κ²½κ³ λ¥Ό ν‘μ‹ν•λ‹¤

2. **Meta Annotation** **λ©”νƒ€ μ–΄λ…Έν…μ΄μ…**
    - μ–΄λ…Έν…μ΄μ…μ„ μ„ν• μ–΄λ…Έν…μ΄μ…
    - ν•΄λ‹Ή μ–΄λ…Έν…μ΄μ…μ λ™μ‘ λ€μƒ, μ¤μ½”ν”„λ¥Ό κ²°μ •ν•κ³ , μ£Όλ΅ μƒλ΅μ΄ μ–΄λ…Έν…μ΄μ…μ„ μ •μν•  λ• μ‚¬μ©
    - **`@Target`**

      μ–΄λ…Έν…μ΄μ…μ„ μ •μν•  λ•, ν•΄λ‹Ή μ–΄λ…Έν…μ΄μ…μ μ μ© λ€μƒμ„ μ§€μ •ν•λ” λ° μ‚¬μ©ν•κ³ 
      μ—¬λ¬ λ€μƒμ„ μ§€μ •ν•΄μ•Ό ν•  λ•λ” `{μ¤‘κ΄„νΈ}`λ΅ λ¬¶μ–΄μ„ μ‚¬μ©ν•λ‹¤

      valueμ—λ” ElementTypeμ΄λΌλ” Enumκ°μ²΄λ¥Ό μ‚¬μ©ν•λ‹¤

        ```java
        ElementType.PACKAGE : ν¨ν‚¤μ§€ μ„ μ–Έ
        ElementType.TYPE : νƒ€μ… μ„ μ–Έ
        ElementType.ANNOTATION_TYPE : μ–΄λ…Έν…μ΄μ… νƒ€μ… μ„ μ–Έ
        ElementType.CONSTRUCTOR : μƒμ„±μ μ„ μ–Έ
        ElementType.FIELD : λ©¤λ²„ λ³€μ μ„ μ–Έ
        ElementType.LOCAL_VARIABLE : μ§€μ—­ λ³€μ μ„ μ–Έ
        ElementType.METHOD : λ©”μ„λ“ μ„ μ–Έ
        ElementType.PARAMETER : μ „λ‹¬μΈμ μ„ μ–Έ
        ElementType.TYPE_PARAMETER : μ „λ‹¬μΈμ νƒ€μ… μ„ μ–Έ
        ElementType.TYPE_USE : νƒ€μ… μ„ μ–Έ
        ```

    - **`@Retention`**

      μ–΄λ…Έν…μ΄μ…μ μ μ§€κΈ°κ°„(λΌμ΄ν”„μ‚¬μ΄ν΄)μ„ μ§€μ •ν•λ” λ° μ‚¬μ©ν•κ³ , μ„Έ κ°€μ§€ κ·μΉ™

        - **`RetentionPolicy.RUNTIME`**

          μ»΄νμΌ μ΄ν›„μ—λ„ JVMμ— μν•΄ κ³„μ† μ°Έμ΅°κ°€ κ°€λ¥ν•κ³  μ£Όλ΅ λ¦¬ν”λ ‰μ…μ΄λ‚ λ΅κΉ…μ— λ§μ΄ μ‚¬μ©λ©λ‹λ‹¤.

        - **`RetentionPolicy.CLASS`**

          μ»΄νμΌλ¬κ°€ ν΄λμ¤λ¥Ό μ°Έμ΅°ν•  λ•κ°€μ§€ μ ν¨

        - **`RetentionPolicy.SOURCE`**

          μ»΄νμΌ μ „κΉμ§€λ§ μ ν¨ β†’ μ»΄νμΌ μ΄ν›„μ—λ” μ‚¬λΌμ§

    ```java
    @Target(ElementType.METHOD)
        @Retention(RetentionPolicy.SOURCE)
    public @interface MyAnnotation{}
    ```
    
    - **`@Documented`**
        
        μ–΄λ…Έν…μ΄μ…μ— λ€ν• μ •λ³΄κ°€ javadocμΌλ΅ μ‘μ„±ν• λ¬Έμ„μ— ν¬ν•¨λλ„λ΅ ν•  λ• μ‚¬μ©ν•λ” μ–΄λ…Έν…μ΄μ…
        
        Built-in ν‘μ¤€/λ‚΄μ¥ AnnotationΒ μ¤‘Β `@Override`μ™€Β `@SuppressWarnings`λ¥Ό μ μ™Έν•κ³ λ” λ¨λ‘ μ΄ μ–΄λ…Έν…μ΄μ…μ΄ λ¶™μ–΄μλ‹¤
        
    - **`@Inherited`**
        
        μ–΄λ…Έν…μ΄μ…λ„ μƒμ†μ΄ κ°€λ¥ν•λ‹¤! μ–΄λ…Έν…μ΄μ…μ„ μμ† ν΄λμ¤μ— μƒμ†ν•κ³ μ ν•  λ• μ‚¬μ©
        
    - **`@Native`**
        
        λ„¤μ΄ν‹°λΈ λ©”μ†λ“μ— μν•΄ μ°Έμ΅°λλ” μƒμ ν•„λ“μ— λ¶™μ΄λ” μ–΄λ…Έν…μ΄μ…
        
        > λ„¤μ΄ν‹°λΈ λ©”μ†λ“λ€?  
         JVMμ΄ μ„¤μΉ λ OSμ λ©”μ†λ“λ΅
         μλ°”μ—μ„λ” λ©”μ„λ“μ μ„ μ–Έλ¶€λ§ μ •μν•κ³ , μ‹¤μ§μ μΈ κµ¬ν„μ€ Cμ–Έμ–΄λ‚ C++λ΅ λμ–΄μλ‹¤
    λ„¤μ΄ν‹°λΈ λ©”μ†λ“μ™€ μλ°”μ—μ„ μ •μν• λ©”μ†λ“λ¥Ό μ—°κ²°ν•λ” κ²ƒμ„Β JNI(Java Native Interface)λΌκ³  ν•λ‹¤ 
        > 
    - **`@Repeatable`**
        
        λ°λ³µν•΄μ„ λ¶™μΌ μ μλ” μ–΄λ…Έν…μ΄μ…μ„ μ •μν•  λ• μ‚¬μ© 

3. **Custom Annotation μ‚¬μ©μ μ •μ μ–΄λ…Έν…μ΄μ…**
    - `**@interface**`

      μ–΄λ…Έν…μ΄μ…μ€ νΉλ³„ν• μΆ…λ¥μ μΈν„°νμ΄μ¤μ΄κ³ , μΌλ° μΈν„°νμ΄μ¤μ™€μ κµ¬λ¶„μ„ μ„ν•΄ @interfaceλ΅ μ„ μ–ΈΒ 
        
    - Annotationμ€ λ¨λ“  μ–΄λ…Έν…μ΄μ…μ μ΅°μƒμ΄μ§€λ§ μƒμ†μ€ λ¶κ°€λ¥ν•λ‹¤
    ```java
    public interface Annotation{
        boolean equals(Object obj);
        int hashCode();
        String toString();
        Class<? extends Annotation> annotationType();
    }
     ```

    - μ–΄λ…Έν…μ΄μ…μ€ λ©”νƒ€λ°μ΄ν„°μ μ €μ¥μ„ μ„ν• Elementλ¥Ό κ°€μ§ μ μκ³ , μ”μ†μ κ°μμ— λ”°λΌ μ„Έ κ°€μ§€λ΅ κµ¬λ¶„ν•  μ μλ‹¤
        - **`Marker Annotation`**

          Elementκ°€ ν•λ‚λ„ μ—†λ”, λ‹¨μ ν‘μ‹μΌλ΅ μ‚¬μ©λλ” μ–΄λ…Έν…μ΄μ…, μ»΄νμΌλ¬μ—κ² μλ―Έλ¥Ό μ „λ‹¬ν•κ±°λ‚ μ£Όμ„ λ©μ μΌλ΅ μ‚¬μ©

          `@Test` : ν…μ¤νΈ ν”„λ΅κ·Έλ¨μ—κ² ν…μ¤νΈ λ€μƒμ„μ„ μ•λ¦¬λ” μ–΄λ…Έν…μ΄μ…

        - **`Single-value Annotation`**

          Elementκ°€ ν• κ°μΈ μ–΄λ…Έν…μ΄μ…μΌλ΅, κ°’μ„ λ…μ‹ν•΄ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•κΈ° μ„ν•΄ μ‚¬μ©

        - **`Full Annotation`** λλ” **`Multi-value Annotation`**

          Elementλ΅ λ‘ μ΄μƒμ λ³€μλ¥Ό κ°–λ” μ–΄λ…Έν…μ΄μ…μΌλ΅, λ°μ΄ν„°λ¥Ό λ°°μ—΄ μ•μ—Β `key-value`Β ν•νƒλ΅ μ „λ‹¬ν•λ‹¤

          Elementμ νƒ€μ…μ€ κΈ°λ³Έν•, String, enum, Annotation, Classλ§ ν—μ©


### μ¤ν”„λ§μ—μ„ μ–΄λ…Έν…μ΄μ…μ„ ν†µν•΄ Beanμ„ λ“±λ΅ν•  λ•, μ–΄λ–¤ μΌλ ¨μ κ³Όμ •μ΄ μΌμ–΄λ‚λ”μ§€ νƒκµ¬ν•΄λ³΄μ„Έμ”.

---

```java
@Configuration
public class AppConfig {
    @Bean
    public MemberRepository memberRepository(){
        return new MemoryMemberRepository();
    }
} 
```

- `@Configuration` κµ¬μ„± μ •λ³΄μ— `@Bean` μ–΄λ…Έν…μ΄μ…μ„ ν†µν•΄ μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— μ§μ ‘ λΉμΌλ΅ λ“±λ΅ν•  μ μλ‹¤
- λΉ κ°μ²΄λ΅ λ“±λ΅ν•κ³  μ‹¶μ€ λ©”μ„λ“μ μ„μ— `@Bean` μ–΄λ…Έν…μ΄μ… μ¶”κ°€ν•κΈ°
- μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— <key(λΉ μ΄λ¦„), value(λΉ κ°μ²΄)> μμΌλ΅ μ €μ¥ν•λ”λ°

  key(λΉ μ΄λ¦„)μ—λ” λ©”μ„λ“μ μ΄λ¦„(memberRepository), value(λΉ κ°μ²΄)μ—λ” μ‹¤μ  λ°ν™ν•λ” κ°μ²΄λ¥Ό λ‹΄μ•„ μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— μ €μ¥ν•λ‹¤

1. μ¤ν”„λ§ μ»¨ν…μ΄λ„ μƒμ„±

   ![bean1](./img/bean1.png)

    - AppConfigμ μ •λ³΄λ¥Ό μ£Όλ©΄μ„ μ»¨ν…μ΄λ„ μƒμ„±
    - μ¤ν”„λ§ μ»¨ν…μ΄λ„ μ•μ—λ” μ¤ν”„λ§ λΉ μ €μ¥μ†κ°€ μλ”λ°

      keyμ—λ” λΉ μ΄λ¦„, κ°’ valueμ—λ” λΉ κ°μ²΄ μ €μ¥

    - μ¤ν”„λ§ λΉ μ €μ¥μ† κµ¬μ„± μ •λ³΄λ¥Ό AppConfig.classλ΅ μ§€μ •ν• κ²ƒ
2. μ¤ν”„λ§ λΉ λ“±λ΅

   ![bean2](./img/bean2.png)

    - μ¤ν”„λ§ μ»¨ν…μ΄λ„λ” νλΌλ―Έν„°λ΅ λ„μ–΄μ¨ μ„¤μ • ν΄λμ¤ μ •λ³΄λ¥Ό μ‚¬μ©ν•΄μ„ μ¤ν”„λ§ λΉ λ“±λ΅
    - λΉ μ΄λ¦„μ€ κΈ°λ³Έμ μΌλ΅ λ©”μ†λ“ μ΄λ¦„μ„ μ‚¬μ©ν•μ§€λ§ `@Bean(name="memberService2")`μ™€ κ°™μ΄ μ§€μ •λ„ κ°€λ¥ν•λ‹¤
    - λΉ μ΄λ¦„μ€ ν•­μƒ λ‹¤λ¥Έ μ΄λ¦„μ„ λ¶€μ—¬ν•΄μ•Ό ν•λ‹¤

      κ°™μ€ μ΄λ¦„μ„ λ¶€μ—¬ν•λ©΄,
      λ‹¤λ¥Έ λΉμ΄ λ¬΄μ‹λκ±°λ‚, κΈ°μ΅΄ λΉμ„ λ®μ–΄λ²„λ¦¬κ±°λ‚ μ„¤μ •μ— λ”°λΌ μ¤λ¥κ°€ λ°μƒν•λ‹¤

3. μ¤ν”„λ§ λΉ μμ΅΄κ΄€κ³„ μ„¤μ • - μ¤€λΉ„

   ![bean3](./img/bean3.png)

4. μ¤ν”„λ§ λΉ μμ΅΄κ΄€κ³„ μ„¤μ • - μ™„λ£

   ![bean4](./img/bean4.png)

    - μ¤ν”„λ§ μ»¨ν…μ΄λ„λ” μ„¤μ • μ •λ³΄λ¥Ό μ°Έκ³ ν•΄μ„ μμ΅΄κ΄€κ³„λ¥Ό μ£Όμ…(DI)ν•λ‹¤
    - μ¤ν”„λ§μ€ μ¤ν”„λ§ λΉ κ°μ²΄λ¥Ό λ¨Όμ € μƒμ„±ν•κ³ , κ·Έ λ‹¤μμ— μμ΅΄κ΄€κ³„ μ£Όμ…
      β†’ λ‹¨κ³„κ°€ λ‚λ„μ–΄μ Έ μλ‹¤
    - κ·Έλ°λ° μ΄λ ‡κ² μλ°” μ½”λ“λ΅ μ¤ν”„λ§ λΉμ„ λ“±λ΅ν•λ©΄ μƒμ„±μλ¥Ό νΈμ¶ν•λ©΄μ„ μμ΅΄κ΄€κ³„ μ£Όμ…λ„ ν• λ²μ— μ²λ¦¬λλ‹¤. μ—¬κΈ°μ„λ” μ΄ν•΄λ¥Ό λ•κΈ° μ„ν•΄ κ°λ…μ μΌλ΅ λ‚λ„μ–΄ μ„¤λ…

λ‹¨μν μλ°” μ½”λ“λ¥Ό νΈμ¶ν•λ” κ²ƒ κ°™μ§€λ§, μ°¨μ΄κ°€ μλ‹¤

#### @Configurationκ³Ό μ‹±κΈ€ν†¤

- ex. ν΄λΌμ΄μ–ΈνΈAκ°€ memberService μ”μ²­ν•λ©΄ AppConfigμ—μ„ newλ΅ μƒμ„±ν•΄μ„ λ°ν™
  ν΄λΌμ΄μ–ΈνΈBμ™€ Cκ°€ μ”μ²­ν•΄λ„ newλ΅ μƒμ„±ν•΄μ„ λ°ν™
  β†’ κ³ κ°μ΄ μ„Έ λ² μ”μ²­ν•λ©΄ κ°μ²΄ μ„Έ κ°κ°€ μƒμ„±λλ‹¤
    - μ¤ν”„λ§ μ—†λ” μμν• DI μ»¨ν…μ΄λ„μΈ AppConfigλ” μ”μ²­μ„ ν•  λ• λ§λ‹¤ κ°μ²΄λ¥Ό μƒλ΅ μƒμ„±
    - κ³ κ° νΈλν”½μ΄ μ΄λ‹Ή 100μ΄ λ‚μ¤λ©΄ μ΄λ‹Ή 100κ° κ°μ²΄κ°€ μƒμ„±λκ³  μ†λ©Έ
      β†’ λ©”λ¨λ¦¬ λ‚­λΉ„κ°€ μ‹¬ν•λ‹¤.
- ν•΄κ²°λ°©μ• : **ν•΄λ‹Ή κ°μ²΄κ°€ λ”± 1κ°λ§ μƒμ„±λκ³ , κ³µμ ν•λ„λ΅ μ„¤κ³„**ν•λ©΄ λλ‹¤ β†’ **μ‹±κΈ€ν†¤ ν¨ν„΄**

  > ν΄λμ¤μ μΈμ¤ν„΄μ¤κ°€ λ”± 1κ°λ§ μƒμ„±λλ” κ²ƒμ„ λ³΄μ¥ν•λ” λ””μμΈ ν¨ν„΄  
  > β†’ **private μƒμ„±μ**λ¥Ό μ‚¬μ©ν•΄ μ™Έλ¶€μ—μ„ μ„μλ΅ new ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•μ§€ λ»ν•λ„λ΅ λ§‰μ•„μ•Ό ν•λ‹¤

- **μ‹±κΈ€ν†¤ μ»¨ν…μ΄λ„**
    - μ¤ν”„λ§ μ»¨ν…μ΄λ„κ°€ κΈ°λ³Έμ μΌλ΅ κ°μ²΄λ¥Ό λ‹¤ μ‹±κΈ€ν†¤μΌλ΅ λ§λ“¤κ³  κ΄€λ¦¬ν•΄μ¤€λ‹¤
    - μ‹±κΈ€ν†¤ ν¨ν„΄μ λ¬Έμ μ μ„ ν•΄κ²°ν•λ©΄μ„, κ°μ²΄ μΈμ¤ν„΄μ¤λ¥Ό μ‹±κΈ€ν†¤(1κ°λ§ μƒμ„±)μΌλ΅ κ΄€λ¦¬
    - μ¤ν”„λ§ μ»¨ν…μ΄λ„λ” μ‹±κΈ€ν†¤ μ»¨ν…μ΄λ„ μ—­ν• μ„ ν•κ³ 

      μ΄λ ‡κ² μ‹±κΈ€ν†¤ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  κ΄€λ¦¬ν•λ” κΈ°λ¥μ„ **μ‹±κΈ€ν†¤ λ μ§€μ¤νΈλ¦¬**λΌκ³  ν•λ‹¤

    - μ¤ν”„λ§ μ»¨ν…μ΄λ„μ μ΄λ° κΈ°λ¥ λ•λ¶„μ— μ‹±κΈ€ν„΄ ν¨ν„΄μ λ¨λ“  λ‹¨μ μ„ ν•΄κ²°ν•λ©΄μ„
      κ°μ²΄λ¥Ό μ‹±κΈ€ν†¤μΌλ΅ μ μ§€ν•  μ μλ‹¤
    - [μ¥μ ] μ‹±κΈ€ν†¤ ν¨ν„΄μ„ μ„ν• μ§€μ €λ¶„ν• μ½”λ“κ°€ λ“¤μ–΄κ°€μ§€ μ•μ•„λ„ λκ³ 
      DIP, OCP, ν…μ¤νΈ, private μƒμ„±μλ΅λ¶€ν„° μμ λ΅­κ² μ‹±κΈ€ν†¤μ„ μ‚¬μ©ν•  μ μλ‹¤
    - μ¤ν”„λ§ μ»¨ν…μ΄λ„ λ•λ¶„μ— κ³ κ°μ μ”μ²­μ΄ μ¬ λ• λ§λ‹¤ κ°μ²΄λ¥Ό μƒμ„±ν•λ” κ²ƒμ΄ μ•„λ‹λΌ,
      **μ΄λ―Έ λ§λ“¤μ–΄μ§„ κ°μ²΄λ¥Ό κ³µμ ν•΄μ„ ν¨μ¨μ μΌλ΅ μ¬μ‚¬μ©**ν•  μ μλ‹¤
- μ¤ν”„λ§ μ»¨ν…μ΄λ„λ” μ‹±κΈ€ν†¤ λ μ§€μ¤νΈλ¦¬λΌμ„ μ¤ν”„λ§ λΉμ΄ μ‹±κΈ€ν†¤μ΄ λλ„λ΅ λ³΄μ¥ν•΄μ£Όμ–΄μ•Ό ν•λ‹¤
    - μλ°” μ½”λ“λ¥Ό λ°”κΏ€ μ λ” μ—†μ–΄μ„ β†’ **ν΄λμ¤μ λ°”μ΄νΈμ½”λ“λ¥Ό μ΅°μ‘**ν•λ” λΌμ΄λΈλ¬λ¦¬(CGLIB) μ‚¬μ©
    - `@Bean`μ΄ λ¶™μ€ λ©”μ†λ“λ§λ‹¤ μ΄λ―Έ μ¤ν”„λ§ λΉμ΄ μ΅΄μ¬ν•λ©΄ μ΅΄μ¬ν•λ” λΉμ„ λ°ν™ν•κ³ ,
      μ¤ν”„λ§ λΉμ΄ μ—†μΌλ©΄ μƒμ„±ν•΄μ„ μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅ν•κ³  λ°ν™ν•λ” μ½”λ“κ°€ λ™μ μΌλ΅ λ§λ“¤μ–΄μ§„λ‹¤ β†’ μ‹±κΈ€ν†¤ λ³΄μ¥

### `@ComponentScan` κ³Ό κ°™μ€ μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•μ—¬ μ¤ν”„λ§μ΄ μ»΄ν¬λ„νΈλ¥Ό μ–΄λ–»κ² νƒμƒ‰ν•κ³  μ°Ύλ”μ§€μ κ³Όμ •μ„ κΉκ² νν—¤μ³λ³΄μ„Έμ”.

---

- **`@ComponentScan`**

  `@Component` μ–΄λ…Έν…μ΄μ…μ΄ λ¶™μ€ ν΄λμ¤λ¥Ό μ°Ύμ•„ μλ™μΌλ΅ μ¤ν”„λ§ λΉ λ“±λ΅

- μ¤ν”„λ§μ€ μ„¤μ • μ •λ³΄κ°€ μ—†μ–΄λ„ μλ™μΌλ΅ μ¤ν”„λ§ λΉμ„ λ“±λ΅ν•λ” **μ»΄ν¬λ„νΈ μ¤μΊ”**μ΄λΌλ” κΈ°λ¥ μ κ³µ
  μ»΄ν¬λ„νΈ μ¤μΊ”μ€ κΈ°λ³Έμ μΌλ΅ `@Component` μ–΄λ…Έν…μ΄μ…μ„ λΉ λ“±λ΅ λ€μƒμΌλ΅ ν¬ν•¨ν•λ”λ°,
  `@Controller`,Β `@Service`,Β `@Component`,Β `@Repository` λ“±μ μ–΄λ…Έν…μ΄μ…μ€ `@Component` μ–΄λ…Έν…μ΄μ…μ„ ν¬ν•¨ν•κ³  μλ‹¤
- ν•„ν„°

    ```java
    @Configuration
    @ComponentScan(
            includeFilters = @ComponentScan.Filter(type = FilterType.ANNOTATION, classes = MyIncludeComponent.class),
            excludeFilters = @ComponentScan.Filter(type = FilterType.ANNOTATION, classes = MyExcludeComponent.class)
    )
    //ν•„ν„°νƒ€μ…μ΄ @μ΄λ©΄ @κ³Ό κ΄€λ ¨λ ν•„ν„° λ§λ“λ” κ±°
    static class ComponentFilterAppConfig { }
    ```

    - **includeFilters** : μ»΄ν¬λ„νΈ μ¤μΊ” λ€μƒ μ¶”κ°€λ΅ μ§€μ •
    - **excludeFilters** : μ»΄ν¬λ„νΈ μ¤μΊ”μ—μ„ μ μ™Έν•  λ€μƒ μ§€μ •
- λ™μ‘κ³Όμ •
    1. ConfigurationClassParser κ°€ Configuration ν΄λμ¤λ¥Ό νμ‹±ν•λ‹¤

       @Configuration μ–΄λ…Έν…μ΄μ… ν΄λμ¤ νμ‹±

    2. ComponentScan μ„¤μ •μ„ νμ‹±ν•λ‹¤

       base-package μ— μ„¤μ •ν• ν¨ν‚¤μ§€λ¥Ό κΈ°μ¤€μΌλ΅
       ComponentScanAnnotationParserκ°€ μ¤μΊ”ν•κΈ° μ„ν• μ„¤μ •μ„ νμ‹±

       > **[basePackages νƒμƒ‰λ²”μ„]**  
        `@ComponentScan`μ—μ„ basePackages μ†μ„±μΌλ΅ νƒμƒ‰ν•  ν¨ν‚¤μ§€μ μ‹μ‘ μ„μΉ μ§€μ • κ°€λ¥  
        λΌμ΄λΈλ¬λ¦¬ ν¬ν•¨ λ¨λ“  μλ°” μ½”λ“λ¥Ό λ’¤μ§€κΈ°μ—λ” λ„λ¬΄ μ¤λκ±Έλ¦°λ‹¤  
        μ—¬λ¬ μ‹μ‘ μ„μΉλ¥Ό μ§€μ •ν•  μλ„ μλ‹¤  
        **basePackageClasses** : μ§€μ •ν• ν΄λμ¤μ ν¨ν‚¤μ§€λ¥Ό νƒμƒ‰ μ‹μ‘ μ„μΉλ΅ μ§€μ •   
        λ”°λ΅ μ§€μ •ν•μ§€ μ•μΌλ©΄ `@ComponentScan`μ΄ λ¶™μ€ μ„¤μ • μ •λ³΄ ν΄λμ¤μ ν¨ν‚¤μ§€κ°€ μ‹μ‘ μ„μΉ   
       > - ν¨ν‚¤μ§€ μ„μΉλ¥Ό μ§€μ •ν•μ§€ μ•κ³  μ„¤μ • μ •λ³΄ ν΄λμ¤μ μ„μΉλ¥Ό ν”„λ΅μ νΈ μµμƒλ‹¨μ— λ‘κΈ°  
    3. base-package μ„¤μ •μ„ λ°”νƒ•μΌλ΅ λ¨λ“  ν΄λμ¤λ¥Ό λ΅λ”©ν•λ‹¤
    4. ClassLoaderκ°€ λ΅λ”©ν• ν΄λμ¤λ“¤μ„ BeanDefinitionμΌλ΅ μ •μν•λ‹¤
       μƒμ„±ν•  λΉμ λ€ν• μ •μ
    5. μƒμ„±ν•  λΉμ— λ€ν• μ •μλ¥Ό ν† λ€λ΅ λΉ μƒμ„±